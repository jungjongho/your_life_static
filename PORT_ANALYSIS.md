# í¬íŠ¸ ì‚¬ìš© ê³„íš

## ğŸ“Š ì „ì²´ í¬íŠ¸ í• ë‹¹í‘œ

### YourLife (your_life_static)
| ì»´í¬ë„ŒíŠ¸ | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | ìš©ë„ |
|---------|------------|--------------|------|
| Frontend | 3050 | 3000 | Next.js |
| Backend | 8050 | 8000 | FastAPI |
| Database | 5432 | 5432 | PostgreSQL |
| Nginx | 8080 | 8080 | Reverse Proxy (ê¸°ì¡´) |

### Lottery (generate_lottery_number)
| ì»´í¬ë„ŒíŠ¸ | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | ìš©ë„ |
|---------|------------|--------------|------|
| Frontend | 4050 | 4050 | Next.js |
| Backend | 9050 | 9050 | FastAPI |
| Database | 5433 | 5432 | PostgreSQL |

### Index (index_static)
| ì»´í¬ë„ŒíŠ¸ | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | ìš©ë„ |
|---------|------------|--------------|------|
| Frontend | 3000 | 3000 | Next.js |
| Backend | 8000 | 8000 | FastAPI |
| Database | 5434 | 5432 | PostgreSQL |

### í†µí•© Nginx (alldatabox_nginx)
| ì»´í¬ë„ŒíŠ¸ | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | ìš©ë„ |
|---------|------------|--------------|------|
| HTTP | 80 | 80 | HTTP |
| HTTPS | 443 | 443 | HTTPS |

---

## âš ï¸ í¬íŠ¸ ì¶©ëŒ ë¶„ì„

### ì¶©ëŒ ë°œê²¬!

1. **í¬íŠ¸ 3000 ì¶©ëŒ**
   - Index Frontend: 3000
   - YourLife Frontend ì»¨í…Œì´ë„ˆ ë‚´ë¶€: 3000 (í˜¸ìŠ¤íŠ¸ëŠ” 3050)
   - âŒ **ì¶©ëŒ**: Indexê°€ í˜¸ìŠ¤íŠ¸ 3000ì„ ì‚¬ìš© ì¤‘

2. **í¬íŠ¸ 8000 ì¶©ëŒ**
   - Index Backend: 8000
   - YourLife Backend ì»¨í…Œì´ë„ˆ ë‚´ë¶€: 8000 (í˜¸ìŠ¤íŠ¸ëŠ” 8050)
   - âŒ **ì¶©ëŒ**: Indexê°€ í˜¸ìŠ¤íŠ¸ 8000ì„ ì‚¬ìš© ì¤‘

3. **í¬íŠ¸ 8080 ì¶©ëŒ ê°€ëŠ¥ì„±**
   - YourLife Nginx: 8080
   - í†µí•© Nginxë¥¼ ì‚¬ìš©í•˜ë©´ í•„ìš” ì—†ìŒ

---

## âœ… í•´ê²° ë°©ì•ˆ

### ì˜µì…˜ 1: Index í¬íŠ¸ ë³€ê²½ (ì¶”ì²œ)
Indexì˜ í¬íŠ¸ë¥¼ ë³€ê²½í•˜ì—¬ ì¶©ëŒ í•´ê²°:
- Frontend: 3000 â†’ 5000
- Backend: 8000 â†’ 7000

### ì˜µì…˜ 2: ëª¨ë“  ì„œë¹„ìŠ¤ ë‚´ë¶€ í†µì‹ ë§Œ ì‚¬ìš©
í†µí•© Nginxë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ê°œë³„ ì„œë¹„ìŠ¤ì˜ í˜¸ìŠ¤íŠ¸ í¬íŠ¸ ë…¸ì¶œ ë¶ˆí•„ìš”:
- ê° ì„œë¹„ìŠ¤ëŠ” Docker ë„¤íŠ¸ì›Œí¬ ë‚´ë¶€ì—ì„œë§Œ í†µì‹ 
- ì™¸ë¶€ëŠ” 80/443 í¬íŠ¸ë¡œë§Œ ì ‘ê·¼

---

## ğŸ¯ ìµœì¢… ê¶Œì¥ í¬íŠ¸ êµ¬ì„±

### ë³€ê²½ í•„ìš”í•œ í•­ëª©

**Index Static:**
```yaml
# docker-compose.yml
frontend:
  ports:
    - "5000:3000"  # 3000 â†’ 5000

backend:
  ports:
    - "7000:8000"  # 8000 â†’ 7000
```

**YourLife (ê¸°ì¡´ Nginx ì œê±°):**
```yaml
# docker-compose.ymlì—ì„œ nginx ì„œë¹„ìŠ¤ ì œê±° ë˜ëŠ” ì£¼ì„ ì²˜ë¦¬
```

---

## ğŸ“‹ ìˆ˜ì • í›„ ìµœì¢… í¬íŠ¸í‘œ

| ì„œë¹„ìŠ¤ | Frontend | Backend | Database | ë¹„ê³  |
|--------|----------|---------|----------|------|
| YourLife | 3050 | 8050 | 5432 | ë³€ê²½ ì—†ìŒ |
| Lottery | 4050 | 9050 | 5433 | ë³€ê²½ ì—†ìŒ |
| Index | **5000** | **7000** | 5434 | **ë³€ê²½ë¨** |
| Nginx | 80, 443 | - | - | í†µí•© |

---

## ğŸ” í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸ ëª…ë ¹ì–´

```bash
# í•„ìš”í•œ ëª¨ë“  í¬íŠ¸ í™•ì¸
sudo lsof -iTCP -sTCP:LISTEN -n -P | grep -E ":(80|443|3000|3050|4050|5000|5432|5433|5434|7000|8000|8050|9050)"
```
